<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper      
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"      
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.pro.main.board.BoardDAO">
	<select id="getBoardList" resultType="com.pro.main.vo.ArticleVO" parameterType="hashMap">
		select article_no, article_title, article_user_id,
				article_creation_date, article_readcount
		from t_article
		where board_no = #{board_no} 
		order by article_no
		limit #{pg}, 15

	</select>

	<select id="getTotalCountArticle" parameterType="int" resultType="int">
		select count(*) as cnt 
		from t_article
		where board_no = #{board_no}
	</select>
	
	<select id="getDetailArticle" parameterType="hashMap" resultType="com.pro.main.vo.ArticleVO">
	select article_no, article_title, article_content, article_user_id,
				article_creation_date, article_readcount
		from t_article
		where board_no = #{board_no} and article_no = #{article_no}
	</select>
	
	<update id="increaseViewCount" parameterType="int">
		update t_article
		set article_readcount = article_readcount + 1
		where article_no = #{article_no}
	</update>
</mapper>